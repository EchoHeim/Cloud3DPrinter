(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7362884b"],{"12c8":function(e,t,i){},"136c":function(e,t,i){},"575e":function(e,t,i){},"5cb6":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-main",{staticClass:"page"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",{staticClass:"device-container pb-5"},[i("div",{staticClass:"device-list-group"},[i("div",{staticClass:"device-card-head clearfix"},[i("div",{staticClass:"dch-pic float-left"},[i("svg",{staticClass:"cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-raspberry"}})])]),i("div",{staticClass:"dch-info float-left ml-4 pt-1"},[i("h3",{staticClass:"mb-1"},[e._v(" "+e._s(e.curDevice.deviceNickname)+" "),i("el-link",{attrs:{underline:!1},on:{click:e.onRenameDevice}},[i("i",{staticClass:"el-icon-setting"})])],1),i("p",{staticClass:"mb-0 text-muted"},[e._v(e._s(e.curDevice.modelName)+" "),i("span",{staticClass:"px-2"},[e._v("|")]),e._v(" "+e._s(e.callGetBytesConversion(e.curDevice.usableStorage,"gb",!0))+" / "+e._s(e.callGetBytesConversion(e.curDevice.totalStorage,"gb",!0)))])]),i("div",{staticClass:"float-right mt-3"},[i("el-dropdown",[i("el-button",{staticClass:"px-3",attrs:{type:"primary",size:"medium",disabled:"Loading..."===e.getDeviceGroupName}},[e._v(e._s(e.getDeviceGroupName)),i("i",{staticClass:"el-icon-arrow-down ml-2"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.curDevice.groupId,expression:"curDevice.groupId"}]},[i("span",{on:{click:function(t){e.groupInfoDialog=!0}}},[e._v("View group info")])]),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.curDevice.groupId,expression:"curDevice.groupId"}],attrs:{disabled:e.isDevicePrinting}},[i("span",{on:{click:e.changeDeviceLinkedGroup}},[e._v("Change linked group")])])],1)],1)],1)]),i("div",{staticClass:"device-card-main el-card mt-4"},[i("div",{staticClass:"el-card__header clearfix"},[i("h4",{staticClass:"mb-0 py-1 float-left"},[i("i",{staticClass:"cp cp-device mr-2 text-primary"}),i("b",[e._v("3D printer information")]),i("el-button",{staticClass:"ml-2 py-0",staticStyle:{"font-size":"13px"},attrs:{loading:e.printer.loading,icon:"el-icon-refresh  font-weight-bold",type:"text"},on:{click:e.refreshPrinterList}},[e._v("Refresh")])],1),i("el-tooltip",{attrs:{content:"Disabled when there are no available comports",placement:"right"}},[i("span",{staticClass:"float-right"},[i("el-button",{staticClass:"px-0",staticStyle:{width:"1.6rem"},attrs:{type:"primary",size:"small",icon:"el-icon-plus font-weight-bold",disabled:0===e.curDevice.comPortsList.length},on:{click:function(t){return e.onIdentifyDevice()}}},[e._v("Add a new 3D printer")])],1)])],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.printer.loading,expression:"printer.loading"}],staticClass:"el-card__body pt-2"},[e.curDevice.printerList.length>0?i("ul",{staticClass:"device-printer-list m-0"},e._l(e.curDevice.printerList,(function(t){return i("li",{key:t.printerUUID,staticClass:"clearfix"},[i("div",{staticClass:"dpl-info"},[i("div",{staticClass:"dpl-info-pic"},[i("svg",{staticClass:"no-print-picture cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-slice-3d-printer"}})])]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right",content:"Configure the 3D printer"}},[i("el-button",{staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{type:"text",disabled:"disconnected"===t.printerStatus},on:{click:function(i){return e.routeToControl(t.printerUUID)}}},[i("h6",[e._v(e._s(t.printerNickName))])])],1),i("p",[e._v(" Model: "+e._s(e.showPrinterName(t))+" "),i("span",{staticClass:"ml-2"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Dimension in mm"}},[i("i",{staticClass:"cp cp-devices-start-3 text-primary mr-1"})]),e._v(" "+e._s(e.callPrinterDimensions(t.modelInfo))+" ")],1)])],1),i("div",{staticClass:"dpl-maker float-left"},[e._v(e._s(e.callReturnOnlyDate(t.createDate)))]),i("div",{staticClass:"float-right pt-1"},[i("el-tooltip",{attrs:{content:"The 3D printer is connected"}},["connected"===t.printerStatus?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"success",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openConnectDialog(t)}}},[i("i",{staticClass:"el-icon-check mr-1",staticStyle:{"font-size":"13px","font-weight":"bold"}}),e._v("Connected ")]):e._e()],1),i("el-tooltip",{attrs:{content:"Please wait, the 3D printing is in process"}},["printing"===t.printerStatus?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"success",disabled:"",size:"mini"}},[i("i",{staticClass:"cp cp-category-3dprinting mr-1",staticStyle:{"font-size":"13px","font-weight":"bold"}}),e._v("Printing ")]):e._e()],1),i("el-tooltip",{attrs:{content:"Connect the 3D printer"}},[e.if3DPrinterDisconnection(t.printerStatus)?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openConnectDialog(t)}}},[i("i",{staticClass:"cp cp-usb mr-1"}),e._v("Connect ")]):e._e()],1),i("el-tooltip",{attrs:{content:e.if3DPrinterDisconnection(t.printerStatus)?"Delete the 3D printer":"You need to disconnect the printer to delete it."}},[i("div",{staticClass:"ml-2 float-right"},[i("el-button",{staticClass:"border-0 px-2",attrs:{disabled:!e.if3DPrinterDisconnection(t.printerStatus),type:"danger",plain:"",size:"mini",icon:"el-icon-delete"},on:{click:function(i){return e.onDeletePrinter(t.printerUUID,t.printerNickName)}}},[e._v("Delete")])],1)])],1),i("el-tooltip",{attrs:{effect:"dark",content:e.getPrinterStatusIcon(t.printerStatus,!0),placement:"bottom"}},[i("i",{staticClass:"cp cp-yuandian cp-yuandian1",class:e.getPrinterStatusIcon(t.printerStatus)})])],1)})),0):i("div",{staticClass:"pt-7 text-center mb-3 text-muted"},[i("div",{staticClass:"mb-1"},[e._v("No data")]),e._v(" "),i("br"),i("div",[e._v(" Please ensure your 3D printer is powered on and properly connected to the RPi device via a USB cable")])])])])]),i("div",{staticClass:"device-list-group pt-0 mt-4",staticStyle:{display:"none"}},[i("div",{staticClass:"device-card-main el-card"},[i("div",{staticClass:"el-card__header clearfix"},[i("h4",{staticClass:"mb-0 py-1 float-left"},[i("i",{staticClass:"cp cp-camera mr-2 text-primary"}),i("b",[e._v("Camera Information")]),i("el-button",{staticClass:"ml-2 py-0",staticStyle:{"font-size":"13px"},attrs:{loading:e.camera.loading,type:"text",icon:"el-icon-refresh font-weight-bold"},on:{click:e.callGetConnectedCameras}},[e._v("Refresh")])],1),i("div",{staticClass:"float-right mr-2"},[i("el-button",{staticClass:"px-0",staticStyle:{width:"1.6rem"},attrs:{size:"small",type:"primary",icon:"el-icon-plus font-weight-bold"},on:{click:function(t){e.addIPCamera.dialog=!0}}},[e._v("Add IP camera")])],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.camera.loading,expression:"camera.loading"}],staticClass:"el-card__body pt-2"},[e.curDevice.cameraList.length>0?i("ul",{staticClass:"device-printer-list m-0"},e._l(e.curDevice.cameraList,(function(t){return i("li",{key:t.cameraUUID,staticClass:"clearfix"},[i("div",{staticClass:"dpl-info"},[i("div",{staticClass:"dpl-info-pic"},[i("svg",{staticClass:"no-print-picture cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-unknown-camera"}})])]),i("h6",[e._v(e._s(t.cameraName)+" "),i("el-button",{staticClass:"py-0",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.openEditCameraDialog(t)}}})],1),t.printerUUID&&e.getPrinterByUUID(t.printerUUID)?i("p",{staticClass:"font-size-12 ellipsis"},[e._v(" 3D Printer: "),i("span",{staticClass:"text-primary"},[e._v(e._s(e.getPrinterByUUID(t.printerUUID).printerNickName))])]):i("p",{staticClass:"font-size-12 ellipsis"},[e._v("Not linked to any 3D printer")])]),i("div",{staticClass:"dpl-maker float-left"},[e._v(e._s(e.getReadableCameraType(t.cameraType))+" camera")]),i("div",{staticClass:"float-right pt-1"},[i("el-tooltip",{attrs:{content:"Link the camera to your 3D printer"}},[t.printerUUID?e._e():i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openCameraConnectDialog(t)}}},[i("i",{staticClass:"cp cp-video-camera mr-1"}),e._v("Link ")])],1),i("el-tooltip",{attrs:{content:"Unlink the camera from your 3D printer"}},[t.printerUUID?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"success",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openCameraConnectDialog(t)}}},[i("i",{staticClass:"el-icon-check mr-1",staticStyle:{"font-size":"13px","font-weight":"bold"}}),e._v("Linked ")]):e._e()],1)],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getCameraStatusIcon(t.cameraStatus,!0),placement:"top"}},[i("i",{staticClass:"cp cp-yuandian",class:e.getCameraStatusIcon(t.cameraStatus)})])],1)})),0):i("div",{staticClass:"pt-7 text-center mb-3 text-muted"},[i("div",{staticClass:"mb-1"},[e._v("No data")]),e._v(" "),i("br"),i("div",[e._v(" Please ensure your USB camera is properly connected to the RPi device, you can also add an IP camera")])])])])])])])],1),i("el-dialog",{staticClass:"el-dialog-lg",attrs:{visible:e.connectPrinter.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.connectPrinter,"dialog",t)}}},[e._t("default",[i("div",{staticClass:"el-dialog-title"},[i("el-avatar",{staticClass:"bg-primary",attrs:{size:35,icon:"el-icon-document-add"}}),i("h4",[e._v("Connect the 3D printer")])],1)],{slot:"title"}),i("div",[i("el-row",{directives:[{name:"show",rawName:"v-show",value:"disconnected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'disconnected'"}]},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group mb-1"},[i("div",{staticClass:"mb-3",staticStyle:{"line-height":"0.2rem"}},[i("label",[e._v("Comport")]),i("el-button",{staticClass:"ml-2 py-0",attrs:{loading:e.comportsLoading,type:"text",icon:"el-icon-refresh font-weight-bold"},on:{click:e.callGetUnknownPorts}},[e._v("Refresh")])],1),i("el-select",{attrs:{size:"medium",name:"comPortSelect"},model:{value:e.connectPrinter.comPort,callback:function(t){e.$set(e.connectPrinter,"comPort",t)},expression:"connectPrinter.comPort"}},e._l(e.curDevice.comPortsList,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group mb-1"},[i("div",{staticClass:"mb-3",staticStyle:{"line-height":"0.2rem"}},[i("label",[e._v("Baudrate (bps)")]),i("el-popover",{staticClass:"float-right",attrs:{placement:"bottom",trigger:"hover"}},[i("div",{staticClass:"page-filtrate-state"},[i("h6",[e._v("Warning")]),i("p",[e._v("Incorrectly setting the baud-rate may result in the control panel not being able to communicate with your 3D printer. Please ensure it is correct. You can change the baudrate at any time by disconnecting, then re-connecting the printer.")])]),i("span",{staticClass:"text-primary p-0",attrs:{slot:"reference"},slot:"reference"},[i("i",{staticClass:"el-icon-warning mr-1"})])])],1),i("div",{staticClass:"el-input-group new-el-select"},[i("el-select",{attrs:{size:"medium",name:"baudRateSelect"},model:{value:e.connectPrinter.baudRate,callback:function(t){e.$set(e.connectPrinter,"baudRate",t)},expression:"connectPrinter.baudRate"}},e._l(e.baudRateArr,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),i("div",{staticClass:"el-input-group__append"},[e._v("bps")])],1)])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"connected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'connected'"}],staticStyle:{margin:"1em 0 0 1.5em"}},[e._v("Do you want to disconnect the printer from your device?")])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.connectPrinter.dialog=!1}}},[e._v("Cancel")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"disconnected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'disconnected'"}],attrs:{disabled:""===e.connectPrinter.comPort||""===e.connectPrinter.baudRate,size:"medium",type:"primary",loading:e.connectPrinter.loading},on:{click:function(t){return e.onConnectPrinter()}}},[e._v(" Connect ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"connected"===e.connectPrinter.printerStatus,expression:"connectPrinter.printerStatus === 'connected'"}],attrs:{size:"medium",type:"danger"},on:{click:function(t){return e.onDisconnectPrinter()}}},[e._v(" Disconnect ")])],1)],2),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.unknownDevice.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.unknownDevice,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-document-add"})]),i("span",{staticClass:"pl-2"},[e._v("Configure unknown 3D printer")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Nickname")]),i("el-input",{attrs:{type:"text",placeholder:"Please enter",maxlength:"50","show-word-limit":""},model:{value:e.unknownDevice.printerNickname,callback:function(t){e.$set(e.unknownDevice,"printerNickname",t)},expression:"unknownDevice.printerNickname"}})],1)]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("3D Printer model")]),i("el-popover",{ref:"addPrinterPopover",attrs:{trigger:"click",width:"280"},on:{show:e.onPrinterModelShow}},[i("div",{staticClass:"create-printer-list"},[i("div",{staticClass:"create-printer-search"},[i("el-input",{attrs:{placeholder:"Search...",size:"medium"},model:{value:e.addPrinterSearch,callback:function(t){e.addPrinterSearch=t},expression:"addPrinterSearch"}})],1),i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",{staticClass:"list-group list-group-print"},[e._l(e.presetPrinterListFiltered,(function(t){return i("div",{key:t.id,staticClass:"list-group-item",class:e.unknownDevice.printerId===t.id?"active":""},[i("div",{staticClass:"list-group-item-body"},[i("h4",{staticClass:"list-group-item-title"},[e._v(e._s(t.printerName)+" "),i("i",{staticClass:"ml-1 text-primary cp ",class:"Custom 3D Printer"===t.printerType?"cp-custom":"cp-cloud"})]),i("p",{staticClass:"list-group-item-text"},[e._v(e._s(t.manufacturer))]),i("p",{staticClass:"list-group-item-text"},[e._v(e._s(t.machineWidth+"*"+t.machineDepth+"*"+t.machineHeight)+"mm")])]),i("i",{staticClass:"el-icon-check text-teal"}),i("div",{staticClass:"stretched-link",on:{click:function(i){return e.onSelectUnknownPrinter(t)}}})])})),e.presetPrinterListFiltered.length<1?i("div",{staticClass:"text-center",staticStyle:{"padding-top":"1rem"}},[e._v(" Loading... ")]):e._e()],2)])],1),i("el-button",{staticStyle:{display:"block",width:"100%","text-align":"left"},attrs:{slot:"reference",size:"small"},slot:"reference"},[i("svg",{staticClass:"slice-icon-cp cp mr-2",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-slice-3d-printer"}})]),e.unknownDevice.printerModel?i("span",{staticClass:"font-size-14",staticStyle:{"vertical-align":"middle"}},[e._v(e._s(e.unknownDevice.printerModel))]):i("span",{staticClass:"text-muted font-size-14",staticStyle:{"vertical-align":"middle"}},[e._v("Please select 3D printer")]),i("i",{staticClass:"el-icon-arrow-down el-icon--right float-right mt-1"})])],1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.unknownDevice.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",loading:e.unknownDevice.btnLoading,disabled:!e.unknownDevice.printerNickname||!e.unknownDevice.printerModel},on:{click:e.callAddPrinter}},[e._v("Confirm")])],1)]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.linkToGroup.dialog,"before-close":e.handleCloseLinkGroupDialog,width:"5rem"},on:{"update:visible":function(t){return e.$set(e.linkToGroup,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-connection"})]),i("span",{staticClass:"pl-2"},[e._v(" "+e._s(e.linkToGroup.linkGroupTitleText)+" ")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},[i("el-col",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"mb-3"},[e._v("Select group")]),i("el-select",{model:{value:e.linkToGroup.selectedGroup,callback:function(t){e.$set(e.linkToGroup,"selectedGroup",t)},expression:"linkToGroup.selectedGroup"}},e._l(e.linkToGroup.groupList,(function(t){return i("el-option",{key:t.userGroupId,attrs:{value:t.userGroupId,label:t.groupName,loading:e.linkToGroup.groupListLoading,"loading-text":e.linkToGroup.groupListLoadingText}})})),1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.linkToGroup.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:""===e.linkToGroup.selectedGroup},on:{click:e.initiateLinkGroupRequest}},[e._v("Link")])],1)]),i("el-dialog",{staticClass:"edit-member-dialog",attrs:{visible:e.groupInfoDialog,width:"6.5rem"},on:{"update:visible":function(t){e.groupInfoDialog=t}}},[i("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[i("h3",{staticClass:"mb-1"},[e._v("About "+e._s(e.getDeviceGroupName))]),i("h5",[i("span",{staticClass:"badge badge-primary badge-subtle"},[e._v(" "+e._s(e.linkToGroup.deviceList.length)+" devices linked to group ")]),i("br")])]),i("div",{staticClass:"edit-member-list"},[i("el-row",{staticClass:"edit-member-item border-bottom py-3"},[i("el-col",{attrs:{span:13}},[i("p",{staticClass:"mb-0"},[e._v("Owner username:")])]),i("el-col",{attrs:{span:11}},[i("p",{staticClass:"p1 mb-0"},[i("b",[e._v(e._s(e.groupInfo.userName))])])])],1),i("el-row",{staticClass:"edit-member-item py-4 border-bottom"},[i("el-col",{attrs:{span:13}},[i("p",{staticClass:"mb-0"},[e._v("Email:")])]),i("el-col",{attrs:{span:11}},[i("p",{staticClass:"p1 mb-0"},[i("b",[e._v(e._s(e.groupInfo.email))])])])],1)],1)]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.connectCamera.dialog,width:"5rem"},on:{"update:visible":function(t){return e.$set(e.connectCamera,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"cp cp-video-camera"})]),i("span",{staticClass:"pl-2"},[e._v(e._s(e.connectCamera.currentCamera.printerUUID?"Unlink camera":"Link camera"))])]),e.connectCamera.currentCamera.printerUUID?i("div",[i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"my-5"},[i("el-col",[i("p",{staticClass:"m-2"},[i("strong",[e._v("Your camera is currently linked to the 3D printer: ")]),i("span",{staticClass:"text-primary"},[e._v(e._s(e.getPrinterByUUID(e.connectCamera.currentCamera.printerUUID).printerNickName))])]),"ip"===e.connectCamera.currentCamera.cameraType?i("p",{staticClass:"m-2"},[i("strong",[e._v("RTSP link: ")]),i("span",{staticClass:"text-primary"},[e._v(e._s(e.connectCamera.currentCamera.uniqueInfo))])]):e._e()])],1)],1),i("div",{staticClass:"dialog-footer text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.connectCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"danger"},on:{click:e.onDisconnectCamera}},[e._v("Unlink")])],1)]):i("div",[i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"my-5"},[i("div",{staticClass:"form-group"},[i("label",[e._v("Select the 3D printer")]),i("el-select",{model:{value:e.connectCamera.selectedPrinterUUID,callback:function(t){e.$set(e.connectCamera,"selectedPrinterUUID",t)},expression:"connectCamera.selectedPrinterUUID"}},e._l(e.curDevice.printerList,(function(e){return i("el-option",{key:e.printerUUID,attrs:{value:e.printerUUID,label:e.printerNickName}})})),1)],1)])],1),i("div",{staticClass:"dialog-footer text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.connectCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:""===e.connectCamera.nickname&&e.connectCamera.selectedPrinterUUID||!e.connectCamera.selectedPrinterUUID},on:{click:e.onConnectCamera}},[e._v(" Link ")])],1)])]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.addIPCamera.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.addIPCamera,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-connection"})]),i("span",{staticClass:"pl-2"},[e._v("Add an IP Camera")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Enter IP camera RTSP link:")]),i("el-input",{attrs:{placeholder:"rtsp://admin:abc123@123.456.7.890/live"},model:{value:e.addIPCamera.rtsp,callback:function(t){e.$set(e.addIPCamera,"rtsp",t)},expression:"addIPCamera.rtsp"}})],1)]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-group"},[i("label",[e._v("Select 3D printer")]),i("el-select",{model:{value:e.connectCamera.selectedPrinterUUID,callback:function(t){e.$set(e.connectCamera,"selectedPrinterUUID",t)},expression:"connectCamera.selectedPrinterUUID"}},e._l(e.curDevice.printerList,(function(e){return i("el-option",{key:e.printerUUID,attrs:{value:e.printerUUID,label:e.printerNickName}})})),1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.addIPCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:""===e.addIPCamera.rtsp},on:{click:e.onAddIPCamera}},[e._v("Add")])],1)]),i("el-dialog",{staticClass:"dialog-start-print",attrs:{visible:e.editCamera.dialog,width:"7rem"},on:{"update:visible":function(t){return e.$set(e.editCamera,"dialog",t)}}},[i("div",{staticClass:"p-2 border-0",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"tile bg-primary text-white"},[i("i",{staticClass:"el-icon-edit"})]),i("span",{staticClass:"pl-2"},[e._v("Edit camera info")])]),i("div",{staticClass:"dsp-body"},[i("el-row",{staticClass:"mt-5 mb-1"},["ip"===e.editCamera.currentCamera.cameraType?i("el-col",[i("div",{staticClass:"form-group"},[i("label",[e._v("Camera RTSP link:")]),i("el-input",{attrs:{placeholder:e.editCamera.currentCamera.uniqueInfo},on:{input:e.onInputIpCameraRtsp},model:{value:e.editCamera.newIP,callback:function(t){e.$set(e.editCamera,"newIP",t)},expression:"editCamera.newIP"}}),e.editCamera.newIP.length<1?i("p",{staticClass:"font-size-12 text-muted mb-0 mt-1 pl-1"},[e._v("Camera RTSP link cannot be null")]):e._e()],1)]):e._e(),i("el-col",[i("div",{staticClass:"form-group"},[i("label",[e._v("Enter new camera name:")]),i("el-input",{attrs:{placeholder:"My awesome camera!",maxlength:"60"},on:{input:e.validateCameraName},model:{value:e.editCamera.newName,callback:function(t){e.$set(e.editCamera,"newName",t)},expression:"editCamera.newName"}}),e.editCamera.newName.length<0?i("p",{staticClass:"font-size-12 text-muted mb-0 mt-1 pl-1"},[e._v("The camera name should be unique, contain letters, digits, and . + - _ ( ) : only, and should not exceed 60 characters.")]):e._e()],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.editCamera.dialog=!1}}},[e._v("Cancel")]),i("el-button",{attrs:{size:"medium",type:"primary",disabled:e.editCamera.disabled},on:{click:e.onUpdateCameraInfo}},[e._v("Update")])],1)]),i("el-dialog",{staticClass:"installation-dialog",attrs:{visible:e.needHelp.visible,width:"12rem","close-on-click-modal":!1,top:"0.5rem"},on:{"update:visible":function(t){return e.$set(e.needHelp,"visible",t)}}},[i("div",{staticClass:"installation-body"},[i("div",{staticClass:"installation-body-left bg-primary"},[i("p",{staticClass:"in-bl-title font-size-24"},[e._v("Setup Wizard")]),i("p",{staticClass:"in-bl-step"},[e._v("Step "+e._s(e.curStep.id)+"/3")]),i("h4",{staticClass:"in-bl-subtitle font-weight-bold"},[e._v(e._s(e.curStep.title))]),i("p",{staticClass:"in-bl-describe"},[e._v(e._s(e.curStep.describe))]),i("a",{staticClass:"in-bl-skip",attrs:{href:"javascritp:;"},on:{click:e.onCloseSetupWizard}},[e._v("Skip the Setup Wizard")])]),i("div",{staticClass:"installation-body-right"},[i("div",{staticClass:"in-br-head clearfix"},[i("el-link",{directives:[{name:"show",rawName:"v-show",value:e.installBackDisabled,expression:"installBackDisabled"}],staticClass:"float-left font-size-16",attrs:{underline:!1},on:{click:e.onInstallBack}},[i("i",{staticClass:"el-icon-back font-weight-bold mr-1"}),e._v("Back")]),i("el-link",{staticClass:"float-right in-br-close",attrs:{underline:!1},on:{click:e.onCloseSetupWizard}},[i("i",{staticClass:"font-weight-bold font-size-18 el-icon-close"})])],1),i("div",{staticClass:"in-br-body"},[i("el-scrollbar",{ref:"pageScrollbar",staticStyle:{height:"100%"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.curStep.id,expression:"curStep.id === 1"}],staticClass:"installation-pane-2 px-10"},[i("div",{staticClass:"text-center installation-pane-head"},[i("h4",{staticClass:"font-size-20"},[e._v("CHOOSE A WORKSPACE "),i("el-popover",{attrs:{placement:"top",width:"500",trigger:"hover"}},[i("div",{staticClass:"py-2 px-3"},[i("h5",{staticClass:"mb-1 font-size-13 font-weight-bold"},[e._v("What is a workspace and what can I do in it?")]),i("p",{staticClass:"mb-2 font-size-12"},[e._v("Workspaces are places which allow you to work individually or with your team members to manage your 3D printing projects. In your workspace, you can create 3D printing projects, add models and G-code files, start 3D print jobs and generate reports. By default, you will get a "),i("strong",[i("code",[e._v("Private")])]),e._v(" workspace upon registration. To create a workspace for your team, simply go to "),i("router-link",{staticClass:"text-primary",attrs:{to:"/group-teams",target:"_blank"}},[e._v("Groups")]),e._v(", add a new group and invite your team members to it.")],1),i("h5",{staticClass:"mb-1 font-size-13 font-weight-bold"},[e._v("What is a "),i("strong",[i("code",[e._v("Private")])]),e._v(" workspace?")]),i("p",{staticClass:"mb-0 font-size-12"},[e._v(" By default, you will get a "),i("strong",[i("code",[e._v("Private")])]),e._v(" workspace upon registration. "),i("br"),e._v(" In your "),i("strong",[i("code",[e._v("Private")])]),e._v(" workspace, you can create 3D printing projects, add models and G-code files, start 3D print jobs and generate reports and all of them are private to you and not shared to others. ")]),i("h5",{staticClass:"mb-1 font-size-13 font-weight-bold"},[e._v("What is a "),i("strong",[i("code",[e._v("group")])]),e._v(" as a public workspace?")]),i("p",{staticClass:"mb-0 font-size-12"},[e._v(" In your group as a public workspace, you can work with your team members to create 3D printing projects, add models and G-code files, start 3D print jobs and generate reports and all of them are public to all the members of this group. "),i("br"),e._v(" To create a group for your team, simply go to Groups page in the "),i("a",{staticClass:"text-primary",attrs:{href:"https://dashboard.cloud3dprint.com/",target:"_blank"}},[e._v("cloud3dprint.com")]),e._v(", add a new group and invite your team members to it. ")])]),i("el-link",{attrs:{slot:"reference",type:"primary",underline:!1},slot:"reference"},[i("i",{staticClass:"el-icon-question"})])],1)],1),i("p",[e._v("You can either work individually in your "),i("strong",[i("code",[e._v("Private")])]),e._v(" workspace, or collaborate with your team in a public group")]),i("p",[e._v("To create a public group, please go to "),i("a",{staticClass:"text-primary",attrs:{href:"https://dashboard.cloud3dprint.com/",target:"_blank"}},[e._v("cloud3dprint.com")])])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.linkToGroup.groupListLoading,expression:"linkToGroup.groupListLoading"}],staticClass:"in-pane2-group text-center mt-5"},e._l(e.linkToGroup.groupList,(function(t){return i("div",{key:t.userGroupId,staticClass:"in-pane2-group-item",class:t.userGroupId===e.linkToGroup.selectedGroup?"text-primary border-primary":"",on:{click:function(i){return e.onSelUserGroup(t)}}},[i("i",{staticClass:"cp ",class:"profile"===t.groupType?"cp-suoding":"cp-group"}),i("h6",[e._v(e._s(t.groupName))])])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.curStep.id,expression:"curStep.id === 2"}],staticClass:"installation-pane-3 px-4"},[i("div",{staticClass:"device-card-main mt-4"},[i("div",{staticClass:"el-card__header clearfix px-0"},[i("h4",{staticClass:"mb-0 py-1 float-left font-size-16"},[i("i",{staticClass:"cp cp-device mr-2 text-primary"}),i("b",[e._v("3D printer information")]),i("el-button",{staticClass:"ml-2 py-0",attrs:{loading:e.printer.loading,icon:"el-icon-refresh font-weight-bold",type:"text"},on:{click:e.refreshPrinterList}},[e._v("Refresh")])],1),i("el-tooltip",{attrs:{content:"Disabled when there are no available comports",placement:"right"}},[i("el-button",{staticClass:"px-0 float-right",staticStyle:{width:"1.6rem"},attrs:{type:"primary",size:"small",icon:"el-icon-plus font-weight-bold",disabled:0===e.curDevice.comPortsList.length},on:{click:function(t){return e.onIdentifyDevice()}}},[e._v("Add a new 3D printer")])],1)],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.printer.loading,expression:"printer.loading"}],staticClass:"el-card__body pt-2 px-0"},[e.curDevice.printerList.length>0?i("ul",{staticClass:"device-printer-list m-0"},e._l(e.curDevice.printerList,(function(t){return i("li",{key:t.printerUUID,staticClass:"clearfix"},[i("div",{staticClass:"dpl-info"},[i("div",{staticClass:"dpl-info-pic"},[i("svg",{staticClass:"no-print-picture cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-slice-3d-printer"}})])]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right",content:"Configure the 3D printer"}},[i("el-button",{staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{type:"text",disabled:"disconnected"===t.printerStatus},on:{click:function(i){return e.routeToControl(t.printerUUID)}}},[i("h6",[e._v(e._s(t.printerNickName)+" ")])])],1),i("p",[e._v(" Model: "+e._s(t.printerModelName)+" "),i("span",{staticClass:"ml-2"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Dimension in mm"}},[i("i",{staticClass:"cp cp-devices-start-3 text-primary mr-1"})]),e._v(" "+e._s(e.callPrinterDimensions(t.modelInfo))+" ")],1)])],1),i("div",{staticClass:"dpl-maker float-left"},[e._v(e._s(e.callReturnOnlyDate(t.createDate)))]),i("div",{staticClass:"float-right pt-1"},[i("el-tooltip",{attrs:{content:"The 3D printer is connected"}},["connected"===t.printerStatus?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"success",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openConnectDialog(t)}}},[i("i",{staticClass:"el-icon-check mr-1",staticStyle:{"font-size":"13px","font-weight":"bold"}}),e._v("Connected ")]):e._e()],1),i("el-tooltip",{attrs:{content:"Please wait, the 3D printing is in process"}},[i("div",["printing"===t.printerStatus?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"success",disabled:"",size:"mini"}},[i("i",{staticClass:"cp cp-category-3dprinting mr-1",staticStyle:{"font-size":"13px","font-weight":"bold"}}),e._v("Printing ")]):e._e()],1)]),i("el-tooltip",{attrs:{content:"Connect the 3D printer"}},[e.if3DPrinterDisconnection(t.printerStatus)?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openConnectDialog(t)}}},[i("i",{staticClass:"cp cp-usb mr-1"}),e._v("Connect ")]):e._e()],1)],1),i("el-tooltip",{attrs:{effect:"dark",content:e.getPrinterStatusIcon(t.printerStatus,!0),placement:"bottom"}},[i("i",{staticClass:"cp cp-yuandian cp-yuandian1",class:e.getPrinterStatusIcon(t.printerStatus)})])],1)})),0):i("div",{staticClass:"pt-7 text-center mb-3 text-muted"},[i("div",{staticClass:"mb-1"},[e._v("No data")]),e._v(" "),i("br"),i("div",[e._v(" Please ensure your 3D printer is powered on and properly connected to the RPi device via a USB cable")])])])])]),i("div",{staticClass:"installation-pane-3 px-4",staticStyle:{display:"none"}},[i("div",{staticClass:"device-card-main mt-4"},[i("div",{staticClass:"el-card__header clearfix px-0"},[i("h4",{staticClass:"mb-0 py-1 float-left font-size-16"},[i("i",{staticClass:"cp cp-camera mr-2 text-primary"}),i("b",[e._v("Camera Information")]),i("el-button",{staticClass:"ml-2 py-0",attrs:{loading:e.camera.loading,icon:"el-icon-refresh font-weight-bold",type:"text"},on:{click:e.callGetConnectedCameras}},[e._v("Refresh")])],1),i("el-tooltip",{attrs:{content:"Disabled when there are no available comports",placement:"right"}},[i("el-button",{staticClass:"px-0 float-right",staticStyle:{width:"1.6rem"},attrs:{size:"small",type:"primary",icon:"el-icon-plus font-weight-bold"},on:{click:function(t){e.addIPCamera.dialog=!0}}},[e._v("Add IP camera")])],1)],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.camera.loading,expression:"camera.loading"}],staticClass:"el-card__body pt-2 px-0"},[e.curDevice.cameraList.length>0?i("ul",{staticClass:"device-printer-list m-0"},e._l(e.curDevice.cameraList,(function(t){return i("li",{key:t.cameraUUID,staticClass:"clearfix"},[i("div",{staticClass:"dpl-info"},[i("div",{staticClass:"dpl-info-pic"},[i("svg",{staticClass:"no-print-picture cp",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#cp-unknown-camera"}})])]),i("h6",[e._v(e._s(t.cameraName)+" "),i("el-button",{staticClass:"py-0",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.openEditCameraDialog(t)}}})],1),t.printerUUID&&e.getPrinterByUUID(t.printerUUID)?i("p",{staticClass:"font-size-12 ellipsis"},[e._v(" 3D Printer: "),i("span",{staticClass:"text-primary"},[e._v(e._s(e.getPrinterByUUID(t.printerUUID).printerNickName))])]):i("p",{staticClass:"font-size-12 ellipsis"},[e._v("Not linked to any 3D printer")])]),i("div",{staticClass:"dpl-maker float-left"},[e._v(e._s(e.getReadableCameraType(t.cameraType))+" camera")]),i("div",{staticClass:"float-right pt-1"},[i("el-tooltip",{attrs:{content:"Link the camera to your 3D printer"}},[t.printerUUID?e._e():i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openCameraConnectDialog(t)}}},[i("i",{staticClass:"cp cp-video-camera mr-1"}),e._v("Link ")])],1),i("el-tooltip",{attrs:{content:"Unlink the camera from your 3D printer"}},[t.printerUUID?i("el-button",{staticClass:"border-0 px-2",staticStyle:{"min-width":"0.9rem"},attrs:{type:"success",size:"mini"},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.openCameraConnectDialog(t)}}},[i("i",{staticClass:"el-icon-check mr-1",staticStyle:{"font-size":"13px","font-weight":"bold"}}),e._v("Linked ")]):e._e()],1)],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getCameraStatusIcon(t.cameraStatus,!0),placement:"top"}},[i("i",{staticClass:"cp cp-yuandian",class:e.getCameraStatusIcon(t.cameraStatus)})])],1)})),0):i("div",{staticClass:"pt-7 text-center mb-3 text-muted"},[i("div",{staticClass:"mb-1"},[e._v("No data")]),e._v(" "),i("br"),i("div",[e._v(" Please ensure your USB camera is properly connected to the RPi device, you can also add an IP camera")])])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:3===e.curStep.id,expression:"curStep.id === 3"}],staticClass:"text-center installation-pane-head mb-5"},[i("i",{staticClass:"el-icon-circle-check text-primary font-size-100 mb-4"}),i("h4",{staticClass:"font-size-20"},[e._v("3D Printer Setup Completed")]),i("p",{staticClass:"mb-7"},[e._v("Great! You have been successfully completed the 3D printer setup")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goToDashboard()}}},[e._v("Start your 3D print job")])],1)])],1),i("div",{staticClass:"in-br-foot text-right"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.installNextShow,expression:"installNextShow"}],attrs:{disabled:e.nextDisable,loading:e.nextLoading,type:"primary"},on:{click:e.onInstallNext}},[e._v("Next")])],1)])])]),i("el-popover",{attrs:{placement:"top-start",width:"350",trigger:"click"}},[i("div",{staticClass:"support-popover",staticStyle:{"word-break":"keep-all !important"}},[i("div",{staticClass:"support-popover-head"},[e._v("Need help?")]),i("div",{staticClass:"support-popover-body"},[i("el-link",{staticClass:"support-popover-item",attrs:{underline:!1},on:{click:e.onOpenSetupWizard}},[i("i",{staticClass:"cp cp-devices-tutorial-8"}),i("h5",{staticClass:"mb-1"},[e._v("Setup wizard")]),i("p",{staticClass:"mb-0"},[e._v("Follow the wizard to get everything ready for your 3D print job.")])])],1)]),i("el-button",{staticClass:"list-group-floated",attrs:{slot:"reference",type:"success",icon:"cp cp-question",circle:""},slot:"reference"})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.pageLoading,expression:"pageLoading"},{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"#fff","z-index":"2000"}})],1)},n=[],a=i("1da1"),s=(i("96cf"),i("99af"),i("4de4"),i("caad"),i("2532"),i("7db0"),i("159b"),i("498a"),i("d3b7"),i("2b0e")),o=(i("12c8"),i("575e"),i("aa98")),c=(i("bc3a"),i("e3e1")),l=i("b775");function u(){return Object(l["a"])({url:"/monitor/getConnectedCameras",method:"GET"})}function d(e){return Object(l["a"])({url:"/monitor/addIPCamera",method:"POST",params:{address:e}})}function p(e,t){return Object(l["a"])({url:"/monitor/bind",method:"POST",params:{cameraUUID:e,printerUUID:t}})}function m(e,t){return Object(l["a"])({url:"/monitor/edit/cameraName",method:"POST",params:{cameraUUID:e,cameraName:t}})}function v(e,t){return Object(l["a"])({url:"/monitor/edit/address",method:"POST",params:{cameraUUID:e,address:t}})}var g=i("fa7d"),f=i("5f87"),h={name:"Devices",data:function(){return{dashboardURL:"https://dashboard.cloud3dprint.com",pageLoading:!0,printer:{listView:"list",loading:!1},camera:{listView:"list",loading:!1},putIPBool:!0,comportsLoading:!1,mediaUrl:Object({VUE_APP_BASE_API:"/dev-api",VUE_APP_CLOUD_API:"https://pm.cloud3dprint.com:8443",VUE_APP_DASHBOARD:"https://dashboard.cloud3dprint.com",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_MEDIA_API,curDevice:{printerList:[],comPortsList:[],availableComPortsList:[],cameraList:[],comPort:null,deviceNickname:"c3pTestDevice",deviceUUID:"",userId:1,groupId:void 0,totalStorage:0,usableStorage:0,modelName:""},curPrinter:{printerStatus:"disconnected"},unknownDevice:{dialog:!1,btnLoading:!1,deviceUUID:null,printerType:null,currentComport:"",firmware:null,baudRate:null,printerNickname:"",printerId:null,printerModel:null,printerManufacturerName:null,typeList:[{value:"Printer",icon:"#cp-unknown-printer"},{value:"Flash drive",icon:"#cp-unknown-flash-drive"},{value:"Camera",icon:"#cp-unknown-camera"},{value:"Mouse",icon:"#cp-unknown-mouse"},{value:"Keyboard",icon:"#cp-unknown-keyboard"}]},flavourArr:[{value:"marlin",label:"Marlin"},{value:"RepRap (Volumetric)",label:"RepRap (Volumetric)"},{value:"Reprap (RepRap)",label:"RepRap (RepRap)"},{value:"RepRap (Marlin/Sprinter)",label:"RepRap (Marlin/Sprinter)"},{value:"UltiGCode",label:"UltiGCode"},{value:"Griffin",label:"Griffin"},{value:"Makerbot",label:"Makerbot"},{value:"BFB",label:"BFB"},{value:"MACH3",label:"MACH3"},{value:"Repetier",label:"Repetier"}],baudRateArr:[{value:"AUTO",label:"AUTO"},{value:2400,label:"2400"},{value:9600,label:"9600"},{value:19200,label:"19200"},{value:38400,label:"38400"},{value:57600,label:"57600"},{value:115200,label:"115200 [Recommended]"},{value:25e4,label:"250000 [Recommended]"}],connectPrinter:{dialog:!1,loading:!1,comPort:"",baudRate:"",firmware:"",shouldConnect:!0,printer:{},printerStatus:""},groupPrinterLoading:!0,groupPrinterList:[],presetPrinterLoading:!0,presetPrinterList:[],addPrinterSearch:"",linkToGroup:{dialog:!1,groupList:[],deviceList:[],selectedGroup:"",groupListLoading:!1,groupListLoadingText:"Fetching groups...",linkGroupTitleText:"Link device to group"},groupInfoDialog:!1,groupInfo:{createDate:"",email:"",groupName:"",groupType:"",memberDTOList:[],ownerId:"",userGroupId:"",userName:""},connectCamera:{dialog:!1,nickname:"",selectedPrinterUUID:"",currentCamera:{address:"",cameraName:"",cameraStatus:"",cameraType:"",printerUUID:"",uniqueInfo:""}},addIPCamera:{dialog:!1,rtsp:"",selectedPrinterUUID:""},editCamera:{dialog:!1,disabled:!1,newName:"",newIP:"",currentCamera:{address:"",cameraName:"",cameraStatus:"",cameraUUID:"",cameraType:"",printerUUID:"",uniqueInfo:""}},needHelp:{visible:!1},nextLoading:!1,step:[{id:1,visible:!1,title:"Choose a Workspace",describe:"You can work individually, or in a group with your teammates."},{id:2,visible:!1,title:"Connect Your 3D Printer",describe:"Once connected, the 3D printer is ready for printing."},{id:3,visible:!1,title:"3D Printer Setup Completed",describe:"Great! You have been successfully completed the 3D printer setup"},{id:4,visible:!1,title:"3D Printer Setup Completed",describe:"Great! You have been successfully completed the 3D printer setup"}],pane5:{key:"new",title:"INSTALL ON YOUR NEW RPI",describe:"If you get a new RPi with an empty SD card and would like to install our all-in-one image."},userInfo:{email:"",userId:"",userName:""},curStep:{id:1,title:"Choose a Workspace",describe:"You can work individually, or in a group with your teammates."}}},computed:{presetPrinterListFiltered:function(){var e=this;if(this.presetPrinterLoading||this.groupPrinterLoading)return[];var t=this.groupPrinterList,i=this.presetPrinterList;i.sort((function(e,t){return(e.printerName+"").localeCompare(t.printerName+"")}));var r=t.concat(i);return this.addPrinterSearch?r.filter((function(t){var i=t.printerName+" "+t.manufacturer;return i.toLowerCase().includes(e.addPrinterSearch.toLowerCase())})):r},getDeviceGroupName:function(){var e,t=this,i=null===(e=this.linkToGroup.groupList.find((function(e){return e.userGroupId===t.curDevice.groupId})))||void 0===e?void 0:e.groupName;return i||"Loading..."},isDevicePrinting:function(){if(!this.curDevice.printerList)return!1;var e=function(e,t){return e||"printing"===t.printerStatus};return this.curDevice.printerList.reduce(e,!1)},installNextShow:function(){return 3!==this.curStep.id},installBackDisabled:function(){return!(this.curStep.id<=1)},nextDisable:function(){return 1===this.curStep.id&&this.linkToGroup.groupListLoading}},mounted:function(){var e=Object(f["b"])()||!1;this.needHelp.visible=!(!e||"false"===e),Object(f["g"])(!1),this.userInfo=this.$store.getters.userInfo,this.callGetDeviceInfo(),this.callGetStorage(),this.callGetAllPrinters(),this.callGetPresetPrinters(),this.callGetUnknownPorts(),this.callGetConnectedCameras()},methods:{onSelUserGroup:function(e){if(this.isDevicePrinting)return this.$message.closeAll(),void this.$message.error("Unable to change group while one of the printers is printing.");this.linkToGroup.selectedGroup=e.userGroupId},showPrinterName:function(e){return e.isCustom&&e.modelInfo?e.modelInfo.customPrinterName:e.printerModelName},onGetGroupPrinter:function(e){var t=this;this.groupPrinterLoading=!0,Object(c["d"])(e).then((function(e){e.forEach((function(e){s["default"].set(e,"printerName",e.customPrinterName),s["default"].set(e,"printerType","Custom 3D Printer"),s["default"].set(e,"id",e.customPrinterId)})),t.groupPrinterLoading=!1,t.groupPrinterList=e}))},onInstallBack:function(){this.curStep=this.step[this.curStep.id-2]},onInstallNext:function(){var e=this;if(1===e.curStep.id)e.nextLoading=!0,e.initiateLinkGroupRequest("next");else if(2===e.curStep.id){var t=!1;e.curDevice.printerList.forEach((function(e){"printing"!==e.printerStatus&&"connected"!==e.printerStatus||(t=!0)})),t?e.curStep=e.step[e.curStep.id]:(e.$message.closeAll(),e.$alert("Please connect a printer",{confirmButtonText:"OK",type:"warning"}))}else e.curStep=e.step[e.curStep.id]},onOpenSetupWizard:function(){this.needHelp.visible=!0,this.linkToGroup.selectedGroup=this.curDevice.groupId,this.curStep=this.step[0]},onCloseSetupWizard:function(){this.needHelp.visible=!1},onPrinterModelShow:function(){this.addPrinterSearch=""},validateCameraName:function(){var e=this.editCamera.newName.trim(),t=this.curDevice.cameraList;if(this.editCamera.disabled=!0,e.length>0){var i=t.find((function(t){return t.cameraName.trim()===e}));if(!i){var r=/^[a-zA-Z0-9—() :._+-]{1,60}$/;r.test(e)&&(this.editCamera.disabled=!1)}}},onInputIpCameraRtsp:function(){""!==this.editCamera.newIP?this.editCamera.disabled=!1:this.editCamera.disabled=!0},callGetDeviceInfo:function(){var e=this;e.linkToGroup.groupListLoading=!0,Object(o["g"])().then((function(t){console.log(t),e.curDevice.deviceNickname=t.deviceNickname,e.curDevice.deviceUUID=t.deviceUUID,e.curDevice.modelName=t.modelName,Object(c["h"])(t.deviceUUID).then((function(t){e.pageLoading=!1;var i=Object(f["b"])()||!1;e.needHelp.visible=!(!i||"false"===i),Object(f["g"])(!1),e.initializeCloudLogin()})).catch((function(){Object(f["e"])(),e.$router.push("/login"),e.$message.closeAll(),e.$message({message:"You don't have permision to access the device.",type:"error"})}))})).catch((function(t){console.log(t),e.linkToGroup.groupListLoading=!1}))},onIdentifyDevice:function(){this.unknownDevice.dialog=!0,this.unknownDevice.printerNickname="",this.unknownDevice.printerId=null,this.unknownDevice.printerModel=null,this.onGetGroupPrinter(this.groupInfo.userGroupId)},callGetAllPrinters:function(){var e=this;e.printer.loading=!0,Object(o["f"])().then((function(t){setTimeout((function(){e.printer.loading=!1}),800),e.curDevice.printerList=t,e.curDevice.printerList.length>0&&e.curDevice.printerList.forEach((function(t){t.isCustom?Object(c["e"])(parseInt(t.printerModelName)).then((function(e){s["default"].set(t,"modelInfo",e)})):s["default"].set(t,"modelInfo",e.callPrinterModelInfo(t.printerModelName))}))}))},callGetUnknownPorts:function(){var e=this;e.comportsLoading=!0,Object(o["i"])().then((function(t){e.curDevice.comPortsList=t})).finally((function(){setTimeout((function(){e.comportsLoading=!1}),800)}))},callGetPresetPrinters:function(){var e=this;this.presetPrinterLoading=!0,console.log(123132),Object(c["i"])().then((function(t){console.log(t),e.presetPrinterLoading=!1,e.presetPrinterList=t,e.presetPrinterList.forEach((function(e){s["default"].set(e,"id",e.printerId),s["default"].set(e,"printerName",e.printerModel),s["default"].set(e,"isCentreZero",e.centreZero),s["default"].set(e,"maxBedTemp",e.maxBedTemp),s["default"].set(e,"extruderName","N/A"),s["default"].set(e,"defFileLocation","N/A")})),console.log("checking this.presetPrinterList ...",e.presetPrinterList)})).catch((function(e){console.log(e)}))},callGetConnectedCameras:function(){var e=this;e.camera.loading=!0,u().then((function(t){setTimeout((function(){e.camera.loading=!1,e.curDevice.cameraList=t}),800)}))},onDeletePrinter:function(e,t){var i=this;this.$confirm("Are you sure you want to delete the printer ".concat(t,"?"),"delete printer",{confirmButtonText:"delete",cancelButtonText:"Cancel"}).then((function(){Object(o["d"])(e).then((function(e){console.log(e),i.callGetAllPrinters()}))}))},openConnectDialog:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=t,r.connectPrinter.printer=e,r.callGetUnknownPorts(),i.next=5,r.callGetPrinterStatus(e.printerUUID);case 5:r.connectPrinter.printerStatus=i.sent,console.log(r.connectPrinter.printerStatus),r.connectPrinter.comPort="",r.connectPrinter.baudRate="",r.connectPrinter.dialog=!0;case 10:case"end":return i.stop()}}),i)})))()},onConnectPrinter:function(){var e=this,t=e.connectPrinter.printer;return e.connectPrinter.loading=!0,console.log(o["c"].loading),e.curPrinter=t,Object(o["c"])(t.printerUUID,e.connectPrinter.comPort,e.connectPrinter.baudRate).then((function(i){if(i.includes("Null"))throw e.$message({message:i,type:"error"}),new Error("Null/Unsupported value provided!");e.callGetPrinterStatus(t.printerUUID).then((function(t){e.connectPrinter.printerStatus=t,e.curPrinter.printerStatus=t,e.$message({message:"Printer connected!",type:"success"})})),console.log(i)})).catch((function(t){console.log(t),e.$message({message:"Could not connect printer! Ensure correct baud-rate is set."})})).finally((function(){e.callGetAllPrinters(),e.callGetUnknownPorts(),e.connectPrinter.loading=!1,e.connectPrinter.dialog=!1})),""},onDisconnectPrinter:function(){var e=this,t=e.connectPrinter.printer;e.curPrinter=t,Object(o["e"])(t.printerUUID).then((function(i){console.log(i),e.callGetPrinterStatus(t.printerUUID).then((function(t){e.connectPrinter.printerStatus=t,e.curPrinter.printerStatus=t,e.$message({message:"Printer disconnected!",type:"success"})}))})).catch((function(t){console.log(t),e.$message({message:"Error occurred! Error: "+t,type:"error"})})).finally((function(){e.callGetAllPrinters(),e.callGetUnknownPorts(),e.connectPrinter.dialog=!1}))},callGetPrinterStatus:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=t,i.abrupt("return",new Promise((function(t,i){r.callGetAllPrinters();var n=r.curDevice.printerList.find((function(t){return t.printerUUID===e})).printerStatus;n&&t(n),i("Not found")})));case 2:case"end":return i.stop()}}),i)})))()},if3DPrinterDisconnection:function(e){return"connected"!==e&&"printing"!==e},getPrinterStatusIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return e[0].toUpperCase()+e.substring(1);switch(e){case"connected":return"text-blue";case"disconnected":return"text-red";case"paused":return"text-warning";case"printing":return"text-success";default:return""}},onSelectUnknownPrinter:function(e){this.unknownDevice.printerId=e.id,this.unknownDevice.printerManufacturerName=e.manufacturer,this.unknownDevice.printerModel=e.printerName,this.unknownDevice.isCustom=!!e.customPrinterId,this.$refs.addPrinterPopover.doClose()},callAddPrinter:function(){var e=this,t=e.unknownDevice,i=t.isCustom?t.printerId:t.printerModel;Object(o["a"])(t.printerNickname,i,t.isCustom).then((function(t){console.log(t),e.$message({message:"Printer added to device!",type:"success"})})).catch((function(t){console.log(t),e.$message({message:"Error occurred! Error: "+t.response.data,type:"error"})})).finally((function(){e.unknownDevice.dialog=!1,e.callGetAllPrinters(),e.callGetUnknownPorts()}))},callPrinterModelInfo:function(e){var t=this,i=t.presetPrinterList.find((function(t){return t.printerName===e}));return i||"N/A"},callPrinterDimensions:function(e){return e&&e.machineWidth&&e.machineDepth&&e.machineHeight?e.machineWidth+"*"+e.machineDepth+"*"+e.machineHeight+"mm":"N/A"},onSelectPrinter:function(e){var t=this;t.curPrinter=e,t.userConfiguration.curPrinterUUID=e.printerUUID},getPrinterByUUID:function(e){var t=this,i=t.curDevice.printerList.find((function(t){return t.printerUUID===e}));return i||void 0},onRenameDevice:function(){var e=this;e.$prompt("Please enter a new device nickname","Rename",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",inputValue:e.curDevice.deviceNickname,inputErrorMessage:"Must not have any spaces!"}).then((function(t){var i=t.value;Object(o["b"])(i).then((function(t){console.log(t),e.$message.closeAll(),e.$message.success("Device renamed!"),e.callGetDeviceInfo()})).catch((function(t){console.log(t),e.$message.closeAll(),e.$message.error("Could not rename device! New nickname is empty or not alphanumeric.")}))}))},handleLinkGroup:function(){var e=this;e.linkToGroup.dialog=!0,e.linkToGroup.linkGroupTitleText="Link device to group",e.linkToGroup.groupListLoading=!0},onCloudLogout:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e,i.linkToGroup.groupList=[],i.curDevice.groupId="",i.linkToGroup.selectedGroup="",t.next=6,Object(c["a"])(i.curDevice.deviceUUID);case 6:return t.next=8,i.$store.dispatch("user/cloudLogout");case 8:case"end":return t.stop()}}),t)})))()},initiateLinkGroupRequest:function(e){var t=this;Object(c["m"])(t.curDevice.deviceUUID,t.linkToGroup.selectedGroup).then((function(i){console.log(i),t.linkToGroup.dialog=!1,t.$message.success("Device linked to group successfully!"),t.curDevice.groupId=t.linkToGroup.selectedGroup||t.linkToGroup.groupList[0].userGroupId,"next"===e&&(t.curStep=t.step[t.curStep.id],t.nextLoading=!1),t.putIPBool&&(t.putIPBool=!1,t.onPutControlIpAddress(t.curDevice.deviceUUID)),t.getGroupInfo()})).catch((function(){console.log("The device environment is inconsistent with the account environment. Please check the PI code")})).finally((function(){t.nextLoading=!1,t.linkToGroup.groupListLoading=!1}))},onPutControlIpAddress:function(e){var t=this;Object(c["j"])(e,window.location.host).then((function(i){console.log("Updating the DEVICE IP address",i),Object(c["k"])(e).then((function(e){console.log("Updating Device Information",e)})).catch((function(){setTimeout((function(){return t.onPutControlIpAddress(t.curDevice.deviceUUID)}),2500)}))}))},initializeCloudLogin:function(){var e=this,t=this;t.linkToGroup.groupListLoading=!0,Object(c["g"])().then((function(i){t.linkToGroup.groupList=i,Object(c["c"])().then((function(i){var r;console.log(i),t.curDevice.groupId=null===(r=i.find((function(e){return e.deviceUUID===t.curDevice.deviceUUID})))||void 0===r?void 0:r.groupId,t.curDevice.groupId?(t.getGroupInfo(),t.linkToGroup.selectedGroup=e.curDevice.groupId):(t.linkToGroup.selectedGroup=t.linkToGroup.groupList[0].userGroupId,t.initiateLinkGroupRequest())}))})).catch((function(){t.curDevice.groupId=void 0})).finally((function(){t.linkToGroup.groupListLoading=!1}))},getGroupInfo:function(){var e=this;e.groupInfo=e.linkToGroup.groupList.find((function(t){return t.userGroupId===e.curDevice.groupId})),Object(c["f"])(e.curDevice.groupId).then((function(t){e.linkToGroup.deviceList=t})).catch((function(){e.linkToGroup.deviceList=[]}))},unregisterDeviceFromGroup:function(){var e=this;e.$confirm("Are you sure you want to unregister this device from group: ".concat(e.getDeviceGroupName,"?"),"Unlink device",{confirmButtonText:"Unlink",cancelButtonText:"Cancel"}).then((function(){Object(c["a"])(e.curDevice.deviceUUID).then((function(t){console.log(t),e.$message.success("Your device has been unlinked!"),e.curDevice.groupId=void 0}))}))},changeDeviceLinkedGroup:function(){var e=this;e.$confirm("Are you sure you want to change the device group? This will unlink the current group.","Change device group",{confirmButtonText:"Change",cancelButtonText:"Cancel"}).then((function(){e.linkToGroup.linkGroupTitleText="Change device group",e.linkToGroup.dialog=!0}))},displayCloudLoginError:function(e){var t=this;t.$message.closeAll(),t.$message.error(e)},getReadableCameraType:function(e){switch(e){case"usb":return"USB";case"ip":return"IP";case"pi":return"Pi";default:return"Unknown type"}},getCameraStatusIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return e[0].toUpperCase()+e.substring(1);switch(e){case"connected":return"text-blue";case"disconnected":return"text-red";default:return""}},openCameraConnectDialog:function(e){var t=this;t.connectCamera.dialog=!0,t.connectCamera.currentCamera=e,t.connectCamera.nickname=e.cameraName},openEditCameraDialog:function(e){var t=this;t.editCamera.dialog=!0,t.editCamera.currentCamera=e,t.editCamera.newName=e.cameraName,"ip"===e.cameraType&&(t.editCamera.newIP=e.uniqueInfo)},onConnectCamera:function(){var e=this;e.connectCamera.dialog=!1,p(e.connectCamera.currentCamera.cameraUUID,e.connectCamera.selectedPrinterUUID).then((function(t){console.log(t),e.$message.success("The camera has been connected."),e.callGetConnectedCameras(),e.connectCamera.selectedPrinterUUID=""})).catch((function(t){e.$message.closeAll(),e.$message.error(t)}))},connectCameraWithUUID:function(e){var t=this;t.connectCamera.currentCamera.cameraUUID=e,t.onConnectCamera()},onDisconnectCamera:function(){var e=this;e.connectCamera.dialog=!1,p(e.connectCamera.currentCamera.cameraUUID,"").then((function(t){console.log(t),e.$message.success("The camera has been disconnect."),e.callGetConnectedCameras()})).catch((function(t){e.$message.closeAll(),e.$message.error(t)}))},onAddIPCamera:function(){var e=this;e.addIPCamera.dialog=!1,d(e.addIPCamera.rtsp).then((function(t){console.log(t),e.$message.success("IP camera has been added!"),e.connectCamera.selectedPrinterUUID?e.connectCameraWithUUID(t.cameraUUID):e.callGetConnectedCameras()})).catch((function(t){e.$message.closeAll(),e.$message.error(t)}))},onUpdateCameraInfo:function(){var e=this,t=e.editCamera.currentCamera;m(t.cameraUUID,e.editCamera.newName).then((function(i){"ip"===t.cameraType&&t.uniqueInfo!==e.editCamera.newIP?v(t.cameraUUID,e.editCamera.newIP).then((function(t){console.log(t),e.editCamera.dialog=!1,e.callGetConnectedCameras(),e.$message.success("Name and RTSP info updated!")})):(console.log(i),e.editCamera.dialog=!1,e.callGetConnectedCameras(),e.$message.success("Camera name updated!"))})).catch((function(t){console.log(t),e.$message.closeAll(),e.$message.error("The camera name could not be updated")}))},callReturnOnlyDate:function(e){return Object(g["e"])(e)},callGetStorage:function(){var e=this;Object(o["h"])().then((function(t){console.log(t),e.curDevice.totalStorage=t.total,e.curDevice.usableStorage=t.usable}))},callGetBytesConversion:function(e,t,i){return Object(g["c"])(e,t,i)},routeToControl:function(e){var t=this;console.log(t.groupInfo.userGroupId),t.$router.push({name:"Control",query:{curPrinterUUID:e,groupId:t.groupInfo.userGroupId}})},handleCloseLinkGroupDialog:function(){var e=this;e.linkToGroup.groupListLoading=!1,e.linkToGroup.dialog=!1},refreshPrinterList:function(){var e=this;e.callGetUnknownPorts(),e.callGetAllPrinters()},goToDashboard:function(){window.open(this.dashboardURL+"/#/control?deviceUUID="+this.curDevice.deviceUUID)}}},C=h,b=(i("a499"),i("d830"),i("2877")),D=Object(b["a"])(C,r,n,!1,null,"75048f2c",null);t["default"]=D.exports},7997:function(e,t,i){},a499:function(e,t,i){"use strict";i("136c")},d830:function(e,t,i){"use strict";i("7997")}}]);